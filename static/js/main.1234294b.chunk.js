(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(14),a=r.n(c),i=(r(24),r(25),r(3)),s=r(5),o=r(6),j=r.n(o),u=r(11),l="FETCH_SERVICES_REQUEST",d="FETCH_SERVICES_ERROR",b="FETCH_SERVICES_SUCCESS",p="ADD_SERVICE_REQUEST",v="ADD_SERVICE_ERROR",O="ADD_SERVICE_SUCCESS",m="REMOVE_SERVICE_REQUEST",f="REMOVE_SERVICE_ERROR",x="REMOVE_SERVICE_SUCCESS",E="CHANGE_SERVICE_FIELD",h="EDIT_CHANGE_SERVICE_FIELD",S="FETCH_EDIT_SERVICE_REQUEST",y="FETCH_EDIT_SERVICE_ERROR",R="FETCH_EDIT_SERVICE_SUCCESS",g="EDIT_SERVICES_REQUEST",C="EDIT_SERVICES_ERROR",_="EDIT_SERVICES_SUCCESS";function T(e){return{type:b,payload:{items:e}}}function k(e,t){return{type:p,payload:{name:e,price:t}}}function N(e){return{type:m,payload:{id:e}}}function I(e){return{type:R,payload:{item:e}}}var w=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:l}),e.prev=1,e.next=4,fetch("".concat("https://services-list.herokuapp.com/api","/services"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:return e.next=9,r.json();case 9:n=e.sent,t(T(n)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t((c=e.t0.message,{type:d,payload:{error:c}}));case 16:case"end":return e.stop()}var c}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},D=r(1);function V(){return Object(D.jsx)("div",{className:"loadingio-spinner-rolling-f5eee7vb83q",children:Object(D.jsx)("div",{className:"ldio-s8jtr5dcbdl",children:Object(D.jsx)("div",{})})})}function F(){return Object(D.jsx)("div",{className:"Error-message",children:Object(D.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441."})})}function U(){var e=Object(s.c)((function(e){return e.serviceAdd})),t=e.item,r=e.loading,n=e.error,c=Object(s.b)(),a=function(e){var t=e.target,r=t.name,n=t.value;c(function(e,t){return{type:E,payload:{name:e,value:t}}}(r,n))};return Object(D.jsxs)("form",{className:"Service-add-form",onSubmit:function(e){var r,n;e.preventDefault(),c((r=t.name,n=t.price,function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k()),e.prev=1,e.next=4,fetch("".concat("https://services-list.herokuapp.com/api","/services"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,price:n})});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error(c.statusText);case 7:t({type:O}),t(w()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t((a=e.t0.message,{type:v,payload:{error:a}}));case 14:case"end":return e.stop()}var a}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(D.jsx)("input",{className:"Service-add-input",name:"name",type:"text",required:!0,value:t.name,onChange:a}),Object(D.jsx)("input",{className:"Service-add-input",name:"price",type:"number",required:!0,value:t.price,onChange:a}),Object(D.jsx)("button",{className:"Service-add-btn",type:"submit",disabled:r,children:r?Object(D.jsx)(V,{}):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),n&&Object(D.jsx)(F,{})]})}var A=r(19),H=r(7);function L(e){var t=e.item,r=e.onRemove,n=e.onEdit,c=e.loading,a=e.id,i=e.error,s=a.find((function(e){return e===t.id}));return Object(D.jsxs)("li",{className:"Service-list-item",children:[Object(D.jsx)("p",{children:t.name}),Object(D.jsx)("p",{children:t.price}),i&&Object(D.jsx)(F,{}),c&&t.id===s?Object(D.jsx)("div",{className:"Spinner",children:Object(D.jsx)(V,{})}):Object(D.jsxs)("div",{className:"Service-list-icons",children:[Object(D.jsx)("span",{className:"material-icons edit",onClick:function(){return n(t.id)},children:"border_color"}),Object(D.jsx)("span",{className:"material-icons delete",onClick:function(){return r(t.id)},children:"delete"})]})]})}function Q(){return Object(D.jsx)("div",{className:"Error",children:Object(D.jsx)("p",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"})})}function J(){return Object(D.jsx)("div",{className:"loadingio-spinner-spinner-d0u91gzbbus",children:Object(D.jsxs)("div",{className:"ldio-d6bfmbjuzf",children:[Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{})]})})}function M(){var e=Object(s.c)((function(e){return e.serviceList})),t=e.items,r=e.error,c=e.loading,a=e.loadingRemove,o=e.errorRemove,l=Object(s.b)(),d=Object(n.useState)([]),b=Object(H.a)(d,2),p=b[0],v=b[1],O=Object(i.g)();Object(n.useEffect)((function(){l(w())}),[l]);var m=function(e){l(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(r){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(N()),t.prev=1,t.next=4,fetch("".concat("https://services-list.herokuapp.com/api","/services/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(n.statusText);case 7:r({type:x}),r(w()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r((c=t.t0.message,{type:f,payload:{error:c}}));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(e)),v((function(t){return[].concat(Object(A.a)(t),[e])}))},E=function(e){O("/services/".concat(e))};return Object(D.jsxs)(D.Fragment,{children:[r&&Object(D.jsx)(Q,{}),c&&Object(D.jsx)(J,{}),Object(D.jsx)("ul",{className:"Service-list",children:t.map((function(e){return Object(D.jsx)(L,{item:e,error:o,loading:a,id:p,onRemove:m,onEdit:E},e.id)}))})]})}function q(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(U,{}),Object(D.jsx)(M,{})]})}function P(){var e=Object(s.c)((function(e){return e.serviceDetail})),t=e.item,r=e.loading,c=e.error,a=e.redirect,o=e.loadingEdit,l=Object(s.b)(),d=Object(i.h)().id,b=Object(i.g)();Object(n.useEffect)((function(){l(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(r){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:S}),t.prev=1,t.next=4,fetch("".concat("https://services-list.herokuapp.com/api","/services/").concat(e));case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(n.statusText);case 7:return t.next=9,n.json();case 9:c=t.sent,r(I(c)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r((a=t.t0.message,{type:y,payload:{error:a}}));case 16:case"end":return t.stop()}var a}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(d))}),[l,d]),Object(n.useEffect)((function(){a&&b("/services")}),[b,a]);var p=function(e){var t=e.target,r=t.name,n=t.value;l(function(e,t){return{type:h,payload:{name:e,value:t}}}(r,n))};return c?Object(D.jsx)(Q,{}):Object(D.jsx)(D.Fragment,{children:r?Object(D.jsx)(J,{}):Object(D.jsxs)("form",{className:"Service-detail",onSubmit:function(e){e.preventDefault(),l(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(r){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:g}),t.prev=1,t.next=4,fetch("".concat("https://services-list.herokuapp.com/api","/services"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(n.statusText);case 7:r({type:_}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r((c=t.t0,{type:C,payload:{error:c}}));case 13:case"end":return t.stop()}var c}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(D.jsx)("label",{htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(D.jsx)("input",{className:"Service-detail-field",type:"text",name:"name",id:"name",disabled:o,value:t.name,onChange:p}),Object(D.jsx)("label",{htmlFor:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(D.jsx)("input",{className:"Service-detail-field",type:"number",name:"price",id:"price",disabled:o,value:t.price,onChange:p}),Object(D.jsx)("label",{htmlFor:"content",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(D.jsx)("input",{className:"Service-detail-field",type:"text",name:"content",id:"content",disabled:o,value:t.content,onChange:p}),Object(D.jsxs)("div",{children:[Object(D.jsx)("button",{className:"Service-detail-btn",type:"button",disabled:o,onClick:function(){b(-1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(D.jsx)("button",{className:"Service-detail-btn",type:"submit",children:o?Object(D.jsx)(V,{}):"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})}function z(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsxs)(i.d,{children:[Object(D.jsx)(i.b,{path:"services",element:Object(D.jsx)(q,{})}),Object(D.jsx)(i.b,{path:"services/:id",element:Object(D.jsx)(P,{})}),Object(D.jsx)(i.b,{path:"*",element:Object(D.jsx)(i.a,{to:"/services"})})]})})}var G=r(8),X=r(13),B=r(18),K=r(10),W=r(2),Y={item:{name:"",price:"",content:""},error:null,loading:!1};var Z={items:[],error:null,loading:!1,loadingRemove:!1,errorRemove:null};var $={item:{id:"",name:"",price:"",content:""},loading:!1,error:null,redirect:!1,loadingEdit:!1};var ee=Object(X.b)({serviceAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(W.a)(Object(W.a)({},e),{},{error:null,loading:!0});case v:var r=t.payload.error;return Object(W.a)(Object(W.a)({},Y),{},{error:r});case O:return Object(W.a)({},Y);case E:var n=t.payload,c=n.name,a=n.value;return Object(W.a)(Object(W.a)({},e),{},{item:Object(W.a)(Object(W.a)({},e.item),{},Object(K.a)({},c,a))});default:return e}},serviceList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(W.a)(Object(W.a)({},Z),{},{loading:!0});case d:var r=t.payload.error;return Object(W.a)(Object(W.a)({},Z),{},{error:r});case b:var n=t.payload.items;return Object(W.a)(Object(W.a)({},Z),{},{items:n});case m:return Object(W.a)(Object(W.a)({},e),{},{loadingRemove:!0,errorRemove:null});case f:var c=t.payload.error;return Object(W.a)(Object(W.a)({},e),{},{errorRemove:c,loadingRemove:!1});case x:return Object(W.a)(Object(W.a)({},e),{},{errorRemove:null,loadingRemove:!1});default:return e}},serviceDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(W.a)(Object(W.a)({},$),{},{loading:!0});case y:var r=t.payload.error;return Object(W.a)(Object(W.a)({},$),{},{error:r});case R:var n=t.payload.item;return Object(W.a)(Object(W.a)({},$),{},{item:n});case h:var c=t.payload,a=c.name,i=c.value;return Object(W.a)(Object(W.a)({},e),{},{item:Object(W.a)(Object(W.a)({},e.item),{},Object(K.a)({},a,i))});case g:return Object(W.a)(Object(W.a)({},e),{},{error:null,loadingEdit:!0,redirect:!1});case C:var s=t.payload.error;return Object(W.a)(Object(W.a)({},e),{},{error:s,loadingEdit:!1,redirect:!1});case _:return Object(W.a)(Object(W.a)({},$),{},{redirect:!0});default:return e}}}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,re=Object(X.d)(ee,te(Object(X.a)(B.a)));a.a.render(Object(D.jsx)(s.a,{store:re,children:Object(D.jsx)(G.a,{basename:"/services-list",children:Object(D.jsx)(z,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1234294b.chunk.js.map